<!DOCTYPE html>
<html>
  <head>
     <!-- Load Leaflet-->
    <link rel="stylesheet" href="css/leaflet.css" />
    <script src="js/leaflet.js"></script>

    <!-- Load Esri Leaflet -->
    <script src="js/esri-leaflet.js"></script>

    <!-- Load jquery -->
    <script src="js/jquery-2.1.3.min.js"></script>

    <!-- load geojson file -->
    <script src="sites.geojson" type="text/javascript"></script>

    <style>
      html, body,  #map {
        width : 100%;
        height : 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map = L.map('map').setView([39.83, -98.58], 4);

      L.esri.basemapLayer("Oceans").addTo(map);

      var parks = new L.esri.FeatureLayer("http://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Portland_Parks/FeatureServer/0", {
       style: function () {
          return { color: "#70ca49", weight: 2 };
        }
      }).addTo(map);



      /* popup content */

      function onEachFeature(feature, layer) {
        var popupContent = "<p>" + feature.properties.Name + "</p>"

        if (feature.properties && feature.properties.Species) {
          popupContent += feature.properties.Species;
        }

        layer.bindPopup(popupContent);
      }


      L.geoJson(sites, {

        style: function (feature) {
          return feature.properties && feature.properties.style;
        },

        onEachFeature: onEachFeature,

        pointToLayer: function (feature, latlng) {
          return L.circleMarker(latlng, {
            radius: 8,
            fillColor: "#0000ff",
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.4
          });
        }
      }).addTo(map);


    </script>
  </body>
</html>
